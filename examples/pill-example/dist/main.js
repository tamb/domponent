!function(t){var n={};function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(o,r,function(n){return t[n]}.bind(null,r));return o},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=1)}([function(t,n,e){"use strict";function o(t){return t.origin===location.origin}function r(t,n){document.title=n.title,t.innerHTML=n.content}function i(t,n,e,o){o?history.pushState(t||{},e,n):history.replaceState(t||{},e,n)}function c(){return{title:"Error",content:"<h1>Error</h1><p>Ooops. Something went wrong</p>",code:500,timestamp:new Date}}function u(){}function l(t){return"/"+t.replace(/\/+/g,"/").replace(/^\/|\/$/g,"")}t.exports=function(t,n){if("function"==typeof window.history.pushState){var e,a=(n=n||{}).onReady||u,d=n.onLoading||u,s=n.fromError||c,f=n.shouldServe||o,m=n.shouldReload||u,p=document.querySelector(t);if(!p)throw new Error('Element "'+t+'" not found');var w,h,v,g,y=new URL(document.location),b=(w=document.title,h=p.innerHTML,{title:w||"",content:h||"",status:200||0,timestamp:v||new Date}),E={};E[l(y.pathname)]=b,i({scroll:window.scrollY},y,b.title,!1),document.body.addEventListener("click",function(t){if("A"===t.target.nodeName){var n=new URL(t.target.href,document.location);f(n)&&(t.preventDefault(),window.scrollTo(0,0),L(n,null===e))}}),window.addEventListener("popstate",function(t){L(new URL(document.location),!1),requestAnimationFrame(function(){window.scrollTo(0,t.state.scroll||0)})}),window.addEventListener("scroll",function(){g||(g=setTimeout(function(){i({scroll:window.scrollY},document.location,document.title,!1),g=null},100))})}function S(t,n,e){var o;i(null,t,n.title,e),r(p,n),a(n),e&&t.hash.length>1&&(o=t.hash.slice(1),requestAnimationFrame(function(){var t;(t=o in document.anchors?document.anchors[o]:document.getElementById(t))&&t.scrollIntoView(!0)}))}function L(n,o){var c=l(n.pathname);if(c in E){var u=E[c];if(!0!==m(u))return void S(n,u,o)}i(null,n,n,o);var f=e=fetch(n).then(function(t){return t.text().then(function(n){return{res:t,text:n}})}).then(function(o){var r=o.res,i=o.text,u=function(t,n,e){var o=document.createDocumentFragment(),r=document.createElement("html");o.appendChild(r),r.innerHTML=e;var i=r.querySelector("title").textContent,c=r.querySelector(t);return{title:i,content:c?c.innerHTML:""}}(t,0,i);E[c]=u,u.status=r.status,u.timestamp=new Date,f===e&&(e=null,S(n,u,!1))}).catch(function(t){f===e&&(e=null);var n=s(t);throw r(p,n),a(n),t}).catch(console.error);d(n)}}},function(t,n,e){"use strict";e.r(n);var o=e(0);e.n(o)()("#content",{onReady(){!function(){switch(location.pathname){case"/pages/counter.html":t="../dist/counter.js",new Promise(function(n,e){var o=document.createElement("script");o.src=t,o.onload=n,o.onerror=()=>e(new Error(`Error when loading ${t}!`)),r.appendChild(o)})}var t}()},onLoading(){console.log("loading"),delete window.tom[`_${window.count}`]}});const r=document.getElementById("content");window.tom={},window.count=0}]);